{% extends 'layout.html' %}

{% block title %}
    Viewing Deck - {{ deck.name }}
{% endblock %}

{% block content %}
    <div class="content-container">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <h1>Viewing Deck: {{ deck.name }}</h1>
            <a href="/deck/{{ deck.id }}/edit" class="button">Edit Deck</a>
        </div>
        <p>{{ deck.description }}</p>
        <a href="/deck/{{ deck.id }}/add-flashcard" class="button">Add New Flashcard</a>
        <ul>
            {% for flashcard in deck.flashcards %}
                <li>
                    <strong>Q:</strong> {{ flashcard.question }}<br>
                    <strong>A:</strong> {{ flashcard.answer }}<br>
                    <div class="flashcard-actions">
                        <a href="/flashcard/{{ flashcard.id }}/edit" class="button edit">Edit Flashcard</a>
                        <form action="/flashcard/{{ flashcard.id }}/delete" method="post" style="display: inline;">
                            <button type="submit" class="button delete" onclick="return confirm('Are you sure you want to delete this flashcard?')">Delete Flashcard</button>
                        </form>
                    </div>
                </li>
            {% endfor %}
        </ul>
        <form action="/deck/{{ deck.id }}/delete" method="post">
            <button type="submit" class="button delete" onclick="return confirm('Are you sure you want to delete this deck?')">Delete Deck</button>
        </form>
        <a href="/learning-sets" class="button">Back to Decks</a>
    </div>
{% endblock %}
